<!-- Testing use of range element for inheritance reactions. -->

<beast version='2.0' namespace='master.beast:beast.core.parameter'>
    <run spec='InheritanceTrajectory'
         verbosity='1'>
        
        <model spec='InheritanceModel'>
            <populationType spec='PopulationType' typeName='X' id='X' dim="5"/>

            <reactionGroup spec='InheritanceReactionGroup' reactionGroupName='Coalescence'>
	      <reaction spec='InheritanceReaction' rate="0.071428"> <!-- N=7 -->
		<range spec='Range' variableName="q" from="0" to="4"/>
                2X[q]:1 -> X[q]:1
	      </reaction>
            </reactionGroup>
            <reactionGroup spec='InheritanceReactionGroup' reactionGroupName='Migration'>
	      <reaction spec='InheritanceReaction' rate="0.1"> <!-- N=7 -->
              <range spec='Range' variableName="q" from="0" to="4"/>
              <range spec='Range' variableName="p" from="q" to="4"/>
                X[q] -> X[p]
	      </reaction>
            </reactionGroup>
        </model>                

        <initialState spec='InitState'>
	  <lineageSeedMultiple spec='MultipleIndividuals' copies="10">
	    <population spec='Population' type='@X' location="0"/>
	  </lineageSeedMultiple>
        </initialState>
        
        <lineageEndCondition spec='LineageEndCondition' nLineages="1"/>
                
        <output spec='NexusOutput' fileName='RangeTest1_out.nexus' reverseTime="true"/>
    </run>
</beast>
